import{_ as s,o as a,c as n,d as l}from"./app.3d778114.js";const q=JSON.parse('{"title":"Mql","description":"","frontmatter":{},"headers":[{"level":2,"title":"概述","slug":"概述","link":"#概述","children":[]},{"level":2,"title":"查询","slug":"查询","link":"#查询","children":[]},{"level":2,"title":"更改","slug":"更改","link":"#更改","children":[]},{"level":2,"title":"安全","slug":"安全","link":"#安全","children":[]},{"level":2,"title":"性能","slug":"性能","link":"#性能","children":[]}],"relativePath":"api/mql.md","lastUpdated":1675865491000}'),o={name:"api/mql.md"},p=l(`<h1 id="mql" tabindex="-1">Mql <a class="header-anchor" href="#mql" aria-hidden="true">#</a></h1><h2 id="概述" tabindex="-1">概述 <a class="header-anchor" href="#概述" aria-hidden="true">#</a></h2><p>​ Mql是基于元数据的动态查询api，查询对像为实体（实体对应物理表或视图），Mql即Meta Query Language。Mql采用json格式，并通过key、value的特殊字符关键字，表示查询字段、查询条件等信息，最终由Mql解析器转换成对实体的sql语句。</p><p>​ 先来一个简单示例，查询用户信息</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">platform_user</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">:</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">                          </span><span style="color:#676E95;font-style:italic;">// 请求一个名为platform_user的实体</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">@p</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0,1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">                       </span><span style="color:#676E95;font-style:italic;">// 有这个参数，则表示分页数据组,没有则表示查询单个</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">sex</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;">                       </span><span style="color:#676E95;font-style:italic;">// 等值条件</span></span>
<span class="line"><span style="color:#F07178;">	  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">age|gt</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">20</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;">                   </span><span style="color:#676E95;font-style:italic;">// “|”表示过滤，gt即表示大于</span></span>
<span class="line"><span style="color:#F07178;">	  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">name|sw</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">张</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;">                  </span><span style="color:#676E95;font-style:italic;">// 模糊查询 ，sw即startWith</span></span>
<span class="line"><span style="color:#F07178;">	  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">id|in</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;">                 </span><span style="color:#676E95;font-style:italic;">// in   查询</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">@fs</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">id,name,age</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;">              </span><span style="color:#676E95;font-style:italic;">// agesum是虚拟列</span></span>
<span class="line"><span style="color:#F07178;">	  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">@order</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">age|+,name|-</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">          </span><span style="color:#676E95;font-style:italic;">// 排序</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>​ 经解析之后的sql语句如下：</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">-- 服务端解析实体platform_user为对应的表或视图,本例中实体platform_user对应的表名也为platform_user</span></span>
<span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> id,</span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;">,age </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> platform_user </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> sex</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">and</span><span style="color:#A6ACCD;"> age</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">and</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">like</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%张</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">and</span><span style="color:#A6ACCD;"> id </span><span style="color:#F78C6C;">in</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">order by</span><span style="color:#A6ACCD;"> age </span><span style="color:#F78C6C;">asc</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">desc</span></span>
<span class="line"></span></code></pre></div><p>​ Mql关键字如下</p><ul><li>@ 用于key，指关键字，如@p，表示需要分页查询</li><li>$ 用于value，指变量，查询的字段变量</li><li>~ 用于key，指子查询</li><li>| 用于key，指过滤，如“age|gt”:&quot;20&quot;，即按gt进行过滤，gt表示大于</li></ul><h2 id="查询" tabindex="-1">查询 <a class="header-anchor" href="#查询" aria-hidden="true">#</a></h2><ol><li><p><strong>@关键字</strong></p><p>在查询配置中，关键字作为属性字段</p></li></ol><p>@p[可选] page的简写，有则表示分页查询，无则表示查询所有</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// 分页，每页10条记录，取第0页的数据</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@p</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">0,10</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre></div><p>@fs[可选] fields的简写，有则表示查询指定列，无则表示查询所有</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// 查询列表，共三个列</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@fs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">id,name,description</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre></div><p>@group [可选]&quot;userId|maxId&gt;=100&quot;、&quot;userId|sum(age)&gt;=100&quot;</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// 分组</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><p>@having[可选]与@group一起使用</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"></span>
<span class="line"></span></code></pre></div><p>@order [可选]指定排序字段，如果有@order，则服务端默认排序无效。例如：&quot;@order&quot;:&quot;name|-,age|+&quot;</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"></span>
<span class="line"></span></code></pre></div><p>@key 在客户端发请求前自动生成，用于服务端解析缓存的key，客户端查询时，会自动依据实体名称、实体查询条件自动生成，规则如下：实体名称+属性数+@fs的字段数+TODO</p><p>@w [可选]where的简写，更高级的查询语句片段，暂不支持 <strong>$ 指变量</strong>，查询的字段变量 <strong>~ 指子查询或子实体</strong>，用于查询是子查询，用于保存则是子实体信息</p><ol start="2"><li><strong>|过滤</strong></li></ol><p>|后面的是过滤操作（函数）或比较表达式，支持的过滤操作有： max maxId|max,取maxId的最大值 min sumx avg count first last lcase ucase len mid 暂不支持 now 暂不支持 round 暂不支持 format 暂不支持 having having:maxId&gt;=100，取maxId大于等于100的记录</p><p>as 别名，格式name as alias，例如agesum:age|sum表示将求和的列名重命名为agesum。as可用空格替代 : 参数，例如having:maxId&gt;=100表示having的参数为：maxId&gt;=100</p><p>/**</p><ul><li>查询数组</li><li>多级对象</li><li>动态列</li><li>查询：</li><li>大于、小于、分组、in、</li><li>eq(&quot;eq&quot;), neq(&quot;neq&quot;), lt(&quot;lt&quot;), lte(&quot;lte&quot;), gt(&quot;gt&quot;), gte(&quot;gte&quot;), startWith(&quot;sw&quot;), endWith(&quot;ew&quot;), contains(&quot;contains&quot;);</li><li>in 已支持 **/</li><li></li></ul><p>示例</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">platform_user</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">:</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">                           </span><span style="color:#676E95;font-style:italic;">//请求一个名为User的实体（Table或视图）</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">@p</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0,1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">                       </span><span style="color:#676E95;font-style:italic;">//有这个参数，则表示分页数据组,没有则表示查询单个</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">sex</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;">                       </span><span style="color:#676E95;font-style:italic;">//等值条件</span></span>
<span class="line"><span style="color:#F07178;">	  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">age|gt</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">20</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;">                   </span><span style="color:#676E95;font-style:italic;">//c即compare，表示大于、小于、等于...</span></span>
<span class="line"><span style="color:#F07178;">	  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">name|sw</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">zh</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;">                  </span><span style="color:#676E95;font-style:italic;">//like 查询</span></span>
<span class="line"><span style="color:#F07178;">	  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">id|in</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1,2,3</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;">                 </span><span style="color:#676E95;font-style:italic;">//in   查询</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">@fs</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">id,name,age,agesum</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;">      </span><span style="color:#676E95;font-style:italic;">//agesum是虚拟列，在服务端元数据管理中定义age|sum agesum</span></span>
<span class="line"><span style="color:#F07178;">	  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">@order</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">age|+,name|-</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;">         </span><span style="color:#676E95;font-style:italic;">//如果有@order，则服务端默认排序无效；@fs排序无效，指定@order，可以指定先按哪个字段排序，可与@fs的不一致。</span></span>
<span class="line"><span style="color:#F07178;">	  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">@w</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">sex=0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;">                    </span><span style="color:#676E95;font-style:italic;">//更高级的查询语句片段</span></span>
<span class="line"><span style="color:#F07178;">	  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">@key</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">USER8900</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">                 </span><span style="color:#676E95;font-style:italic;">//在客户端发请求前自动生成，用于服务端解析缓存的key</span></span>
<span class="line"><span style="color:#F07178;">	  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">~Moment</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">:</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">		  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">userId</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">$../platform_user.id</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">          </span><span style="color:#676E95;font-style:italic;">//缺省依赖路径，从同级Object的路径开始</span></span>
<span class="line"><span style="color:#F07178;">		  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@fs</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">id,userId,maxId|max id</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;">     </span><span style="color:#676E95;font-style:italic;">//结合下方的分组|g，取同组userId，Id的最大值|max，重命名为maxId</span></span>
<span class="line"><span style="color:#F07178;">		  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">@group</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">userId</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">                </span><span style="color:#676E95;font-style:italic;">//按userId分组(多个字段分组用逗号分隔userId,xx)</span></span>
<span class="line"><span style="color:#F07178;">		  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@having</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">maxId|gt:100,</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">	  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">~Comment</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:{</span><span style="color:#F07178;">                    </span><span style="color:#676E95;font-style:italic;">//请求一个名为Comment的Array</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">@p</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0,6</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">momentId</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">$Moment.id</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">   </span><span style="color:#676E95;font-style:italic;">//完整依赖路径</span></span>
<span class="line"><span style="color:#F07178;">	  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>场景1：涉及关联子表查询，查询返回user列表中带有所属组织的名称列，同时查询条件中，带有组织名称的模糊查询。 方案：直接查询user视图，视图中带有组织表的组织名称列，简化客户端的规则</p><p>场景2：查找客户 &quot;Bush&quot; 或 &quot;Adams&quot; 拥有超过 1500 的订单总金额 SELECT Customer,SUM(OrderPrice) FROM Orders WHERE Customer=&#39;Bush&#39; OR Customer=&#39;Adams&#39; GROUP BY Customer HAVING SUM(OrderPrice)&gt;1500</p><h2 id="更改" tabindex="-1">更改 <a class="header-anchor" href="#更改" aria-hidden="true">#</a></h2><p>新增、修改信息</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 业务代码，用于在后端做业务规则检查用，暂未实现</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@biz</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">myBizCode</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">platform_user</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">:</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">张三</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">loginName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">z3</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">password</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">123456</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">email</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">geelato</span><span style="color:#F07178;">@</span><span style="color:#A6ACCD;">geelato</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">org</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">age</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;">18</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    	</span><span style="color:#676E95;font-style:italic;">// 字典信息采用有直观含义的字符串信息来表示具体的值</span></span>
<span class="line"><span style="color:#F07178;">    	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">sex</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">male</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">tel</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">19999999999</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">province</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">440000</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">city</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">440100</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    	</span><span style="color:#676E95;font-style:italic;">// enable 等boolean值，采用数值存储，在保存前需转换</span></span>
<span class="line"><span style="color:#F07178;">    	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">enable</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">description</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">#platform_demo_entity</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:{</span></span>
<span class="line"><span style="color:#F07178;">    	    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">code</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">$parent.province</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    		</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">$parent.name</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#F07178;">    	</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@biz</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">xxxxx</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">platform_dev_page</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">:</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">code</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">IUJDYWGS</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">content</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;&#39;</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>注意：实体之间的数据存在依赖关系时，JSON结构上体现为父子节点的关系，子节点只能依赖父节点及以上节点的数据，不能依赖父节点兄弟节点的数据，所以变量只有$parent，只能上向引用。</p><h2 id="安全" tabindex="-1">安全 <a class="header-anchor" href="#安全" aria-hidden="true">#</a></h2><p>服务端在配置实体时，可以设置默认查询排序字段 服务端定义哪些字段可以模糊查询条件，哪些字段可以作为查询条件。 服务端定义哪些字段有权限可以查询出来，即限制@fs。</p><h2 id="性能" tabindex="-1">性能 <a class="header-anchor" href="#性能" aria-hidden="true">#</a></h2><p>为提高性能，服务端默认不自动去空 第一个字符是否为@,是的话则获取指令handler 检查“|”后的关键字是否支持</p>`,40),t=[p];function e(c,r,F,D,y,i){return a(),n("div",null,t)}const C=s(o,[["render",e]]);export{q as __pageData,C as default};
